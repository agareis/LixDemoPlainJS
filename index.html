<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>TextminersDemoCase</title>
  </head>
  <body>
    <form onsubmit="x.value=(wordCount(a.value) / countPeriods(a.value)) + (longWordCount(a.value) * 100 / wordCount(a.value))">
      <!-- <form onsubmit="x.value=countPeriods(a.value)"> -->
      <textarea id="a" rows="4" cols="50">
      </textarea>
      <script >
        function wordCount(str) {
          return str.split(' ').length;
        }
        function countPeriods(str) {
            var dots = str.split(".").length - 1;
            var colons = str.split(":").length - 1;
            var capLetter = str.length - str.replace(/[A-Z]/g, '').length;
            return (dots+colons+capLetter);
        }

        function longWordCount(str) {
            return str.match(/[\w0-9]{8,}/gi).length;
        }

      </script>
      <input type="submit" value="Submit">
      =<output name="x" for="a"></output>
    </form>
  </body>
</html>
